<div class="container">
  <div class="row row-cols-1 row-cols-md-2 mt-3">
    <div class="col col-md-5">
      <h5>Select an image</h5>
      <div
        appNgDropFiles
        [files]="files"
        (mouseOver)="isOverElement = $event"
        [ngClass]="{ 'file-over': isOverElement }"
        class="well drop-zone"
      >
        <p>You can drop it here</p>
        <img src="./assets/img/drop-images.png" />
      </div>
    </div>
    <div class="col col-md-7 mt-sm-3 mt-md-0">
      <h5>Loading files</h5>
      <button
        (click)="loadImages()"
        [disabled]="files.length === 0"
        class="btn btn-success mr-1"
      >
        Load to firebase
      </button>
      <button (click)="cleanAll()" class="btn btn-danger">Clear</button>
      <table class="table">
        <thead>
          <tr>
            <th>Filename</th>
            <th>Size</th>
            <th>Progress</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let file of files">
            <td [ngClass]="{ 'text-green': file.progress >= 100 }">
              {{ file.fileName }}
            </td>
            <td>{{ file.file.size / 1024 / 1024 | number: ".2-2" }} MB</td>
            <td>
              <div class="progress">
                <div
                  class="progress-bar"
                  role="progressbar"
                  [ngStyle]="{ width: file.progress + '%' }"
                ></div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
